<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá th·ªëng qu·∫£n l√Ω nh·∫≠p-b√°n h√†ng</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè™ H·ªá th·ªëng qu·∫£n l√Ω nh·∫≠p-b√°n h√†ng</h1>
            <p>Qu·∫£n l√Ω kho h√†ng th√¥ng minh v√† hi·ªáu qu·∫£</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('products')">üì¶ Danh m·ª•c s·∫£n ph·∫©m</button>
            <button class="tab" onclick="showTab('import')">üì• Nh·∫≠p h√†ng</button>
            <button class="tab" onclick="showTab('export')">üì§ B√°n h√†ng</button>
            <button class="tab" onclick="showTab('reports')">üìä B√°o c√°o</button>
            <button class="tab" onclick="showTab('settings')">‚öôÔ∏è Xu·∫•t d·ªØ li·ªáu</button>
        </div>

        <!-- Tab Danh m·ª•c s·∫£n ph·∫©m -->
        <div id="products" class="tab-content active">
            <div class="form-section">
                <h3>üîß Th√™m s·∫£n ph·∫©m m·ªõi</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>M√£ s·∫£n ph·∫©m:</label>
                        <input type="text" id="productCode" placeholder="SP001">
                    </div>
                    <div class="form-group">
                        <label>T√™n s·∫£n ph·∫©m:</label>
                        <input type="text" id="productName" placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m">
                    </div>
                    <div class="form-group">
                        <label>ƒê∆°n v·ªã t√≠nh:</label>
                        <select id="productUnit">
                            <option value="C√°i">C√°i</option>
                            <option value="Kg">Kg</option>
                            <option value="L√≠t">L√≠t</option>
                            <option value="H·ªôp">H·ªôp</option>
                            <option value="Th√πng">Th√πng</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Gi√° nh·∫≠p:</label>
                        <input type="number" id="importPrice" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>Gi√° b√°n:</label>
                        <input type="number" id="sellPrice" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>M·ª©c t·ªìn kho t·ªëi thi·ªÉu:</label>
                        <input type="number" id="minStock" placeholder="10" value="10">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" onclick="addProduct()">‚ûï Th√™m s·∫£n ph·∫©m</button>
                    </div>
                </div>
            </div>

            <div class="search-filter">
                <div class="form-group">
                    <label>T√¨m ki·∫øm:</label>
                    <input type="text" id="searchProduct" placeholder="T√¨m theo t√™n ho·∫∑c m√£ s·∫£n ph·∫©m" onkeyup="filterProducts()">
                </div>
                <div class="form-group">
                    <label>Tr·∫°ng th√°i kho:</label>
                    <select id="stockFilter" onchange="filterProducts()">
                        <option value="">T·∫•t c·∫£</option>
                        <option value="in-stock">C√≤n h√†ng</option>
                        <option value="low-stock">S·∫Øp h·∫øt</option>
                        <option value="out-of-stock">H·∫øt h√†ng</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>S·∫Øp x·∫øp:</label>
                    <select id="sortProduct" onchange="filterProducts()">
                        <option value="name">T√™n A-Z</option>
                        <option value="code">M√£ s·∫£n ph·∫©m</option>
                        <option value="stock">T·ªìn kho</option>
                        <option value="profit">L·ª£i nhu·∫≠n</option>
                    </select>
                </div>
                <div class="form-group">
                    <button class="btn btn-success" onclick="filterProducts()">üîç L·ªçc</button>
                </div>
            </div>

            <div class="table-container">
                <table id="productsTable">
                    <thead>
                        <tr>
                            <th>M√£ SP</th>
                            <th>T√™n s·∫£n ph·∫©m</th>
                            <th>ƒê∆°n v·ªã</th>
                            <th class="text-right">Gi√° nh·∫≠p</th>
                            <th class="text-right">Gi√° b√°n</th>
                            <th class="text-right">T·ªìn kho</th>
                            <th class="text-right">L·ª£i nhu·∫≠n/SP</th>
                            <th class="text-center">Tr·∫°ng th√°i</th>
                            <th class="text-center">Thao t√°c</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tab Nh·∫≠p h√†ng -->
        <div id="import" class="tab-content">
            <div class="form-section">
                <h3>üì• Th√™m phi·∫øu nh·∫≠p h√†ng</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Ng√†y nh·∫≠p:</label>
                        <input type="date" id="importDate">
                    </div>
                    <div class="form-group">
                        <label>S·∫£n ph·∫©m:</label>
                        <select id="importProduct">
                            <option value="">Ch·ªçn s·∫£n ph·∫©m</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>S·ªë l∆∞·ª£ng nh·∫≠p:</label>
                        <input type="number" id="importQuantity" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>ƒê∆°n gi√° nh·∫≠p:</label>
                        <input type="number" id="importUnitPrice" placeholder="0" readonly>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Th√†nh ti·ªÅn:</label>
                        <input type="number" id="importTotal" placeholder="0" readonly>
                    </div>
                    <div class="form-group">
                        <label>Ghi ch√∫:</label>
                        <input type="text" id="importNote" placeholder="Ghi ch√∫ th√™m...">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-success" onclick="addImport()">‚ûï Th√™m phi·∫øu nh·∫≠p</button>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <table id="importTable">
                    <thead>
                        <tr>
                            <th>Ng√†y nh·∫≠p</th>
                            <th>M√£ SP</th>
                            <th>T√™n s·∫£n ph·∫©m</th>
                            <th class="text-right">S·ªë l∆∞·ª£ng</th>
                            <th class="text-right">ƒê∆°n gi√°</th>
                            <th class="text-right">Th√†nh ti·ªÅn</th>
                            <th>Ghi ch√∫</th>
                            <th class="text-center">Thao t√°c</th>
                        </tr>
                    </thead>
                    <tbody id="importTableBody">
                        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tab B√°n h√†ng -->
        <div id="export" class="tab-content">
            <div class="form-section">
                <h3>üì§ Th√™m phi·∫øu b√°n h√†ng</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Ng√†y b√°n:</label>
                        <input type="date" id="exportDate">
                    </div>
                    <div class="form-group">
                        <label>S·∫£n ph·∫©m:</label>
                        <select id="exportProduct">
                            <option value="">Ch·ªçn s·∫£n ph·∫©m</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>S·ªë l∆∞·ª£ng b√°n:</label>
                        <input type="number" id="exportQuantity" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>ƒê∆°n gi√° b√°n:</label>
                        <input type="number" id="exportUnitPrice" placeholder="0" readonly>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Th√†nh ti·ªÅn:</label>
                        <input type="number" id="exportTotal" placeholder="0" readonly>
                    </div>
                    <div class="form-group">
                        <label>Kh√°ch h√†ng:</label>
                        <input type="text" id="exportCustomer" placeholder="T√™n kh√°ch h√†ng">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-success" onclick="addExport()">‚ûï Th√™m phi·∫øu b√°n</button>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <table id="exportTable">
                    <thead>
                        <tr>
                            <th>Ng√†y b√°n</th>
                            <th>M√£ SP</th>
                            <th>T√™n s·∫£n ph·∫©m</th>
                            <th class="text-right">S·ªë l∆∞·ª£ng</th>
                            <th class="text-right">ƒê∆°n gi√°</th>
                            <th class="text-right">Th√†nh ti·ªÅn</th>
                            <th>Kh√°ch h√†ng</th>
                            <th class="text-center">Thao t√°c</th>
                        </tr>
                    </thead>
                    <tbody id="exportTableBody">
                        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tab B√°o c√°o -->
        <div id="reports" class="tab-content">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>T·ªïng s·∫£n ph·∫©m</h3>
                    <div class="value" id="totalProducts">0</div>
                </div>
                <div class="stat-card success">
                    <h3>T·ªïng nh·∫≠p (VND)</h3>
                    <div class="value" id="totalImportValue">0</div>
                </div>
                <div class="stat-card warning">
                    <h3>T·ªïng b√°n (VND)</h3>
                    <div class="value" id="totalExportValue">0</div>
                </div>
                <div class="stat-card danger">
                    <h3>L·ª£i nhu·∫≠n (VND)</h3>
                    <div class="value" id="totalProfit">0</div>
                </div>
            </div>

            <div class="form-section">
                <h3>üìä B√°o c√°o chi ti·∫øt</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>T·ª´ ng√†y:</label>
                        <input type="date" id="reportFromDate">
                    </div>
                    <div class="form-group">
                        <label>ƒê·∫øn ng√†y:</label>
                        <input type="date" id="reportToDate">
                    </div>
                    <div class="form-group">
                        <label>Lo·∫°i b√°o c√°o:</label>
                        <select id="reportType">
                            <option value="summary">T·ªïng quan</option>
                            <option value="product">Theo s·∫£n ph·∫©m</option>
                            <option value="daily">Theo ng√†y</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" onclick="generateReport()">üìà T·∫°o b√°o c√°o</button>
                    </div>
                </div>
            </div>

            <div id="reportResult" style="display: none;">
                <h3>K·∫øt qu·∫£ b√°o c√°o</h3>
                <div class="table-container">
                    <table id="reportTable">
                        <thead id="reportTableHead">
                            <!-- Header s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
                        </thead>
                        <tbody id="reportTableBody">
                            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tab Xu·∫•t d·ªØ li·ªáu -->
        <div id="settings" class="tab-content">
            <div class="export-section">
                <h3>üìÅ Xu·∫•t d·ªØ li·ªáu Excel</h3>
                <p>Xu·∫•t to√†n b·ªô d·ªØ li·ªáu th√†nh file Excel ƒë·ªÉ l∆∞u tr·ªØ ho·∫∑c ph√¢n t√≠ch</p>
                <br>
                <div class="form-row">
                    <div class="form-group">
                        <button class="btn btn-success" onclick="exportToExcel('products')">üì¶ Xu·∫•t danh m·ª•c s·∫£n ph·∫©m</button>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-success" onclick="exportToExcel('import')">üì• Xu·∫•t d·ªØ li·ªáu nh·∫≠p h√†ng</button>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-success" onclick="exportToExcel('export')">üì§ Xu·∫•t d·ªØ li·ªáu b√°n h√†ng</button>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" onclick="exportToExcel('all')">üìä Xu·∫•t t·∫•t c·∫£ d·ªØ li·ªáu</button>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>üíæ Sao l∆∞u v√† kh√¥i ph·ª•c</h3>
                <div class="form-row">
                    <div class="form-group">
                        <button class="btn btn-warning" onclick="backupData()">üíæ Sao l∆∞u d·ªØ li·ªáu</button>
                    </div>
                    <div class="form-group">
                        <input type="file" id="restoreFile" accept=".json" style="display: none;">
                        <button class="btn btn-warning" onclick="document.getElementById('restoreFile').click()">üì• Kh√¥i ph·ª•c d·ªØ li·ªáu</button>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-danger" onclick="clearAllData()">üóëÔ∏è X√≥a t·∫•t c·∫£ d·ªØ li·ªáu</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="assets/js/qlbh.js"></script>
</body>
</html>
